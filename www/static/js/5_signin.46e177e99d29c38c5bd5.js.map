{"version":3,"sources":["webpack:///src/pages/SignIn.vue","webpack:///./src/pages/SignIn.vue?5c4f","webpack:///./src/pages/SignIn.vue"],"names":["SignIn","data","t","this","rules2","account","validator","rule","value","callback","match","test","Error","trigger","pwd","pwd2","form","methods","goSignIn","e","_ref","_this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","_ref2","msg","wrap","_context","prev","next","Object","request","config_default","apiHost","method","body","stringify_default","sent","code","element_ui_common","message","type","onJumpToLogin","console","log","abrupt","stop","_x","apply","arguments","router","push","name","pages_SignIn","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","attrs","justify","xs","sm","md","lg","xl","_v","ref","rules","model","label-width","label","prop","placeholder","clearable","$$v","$set","expression","plain","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5_signin.46e177e99d29c38c5bd5.js","sourcesContent":["<template>\n  <el-row type=\"flex\" justify=\"center\" style=\"padding: 10px;\">\n    <el-col :xs=\"24\" :sm=\"16\" :md=\"12\" :lg=\"8\" :xl=\"6\">\n      <h1>HappyNode 注册</h1>\n      <el-form ref=\"form\" :rules=\"rules2\" :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"账号\" prop=\"account\">\n          <el-input v-model=\"form.account\" placeholder=\"请输入账号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"pwd\">\n          <el-input v-model=\"form.pwd\" type=\"password\" placeholder=\"请输入密码\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"pwd2\">\n          <el-input v-model=\"form.pwd2\" type=\"password\" placeholder=\"请再次输入密码\" clearable></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" plain @click=\"goSignIn\">提交注册</el-button>\n        <el-button type=\"primary\" @click=\"onJumpToLogin\">已有账号，登录</el-button>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { Message } from 'element-ui'\nimport router from '../router'\nimport request from '../tools/request'\nimport config from '../config.js'\n\nexport default {\n  data () {\n    const t = this\n    return {\n      rules2: {\n        account: [\n          {\n            validator (rule, value, callback) {\n              if (!value.match || !/^[A-Za-z0-9_]{4,20}$/.test(value)) {\n                callback(new Error('账号要求4到20位，大小写字母、数字以及下横杠'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ],\n        pwd: [\n          {\n            validator (rule, value, callback) {\n              if (!value.match || !/^[A-Za-z0-9_]{6,20}$/.test(value)) {\n                callback(new Error('密码要求6到20位，大小写字母、数字以及下横杠'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ],\n        pwd2: [\n          {\n            validator (rule, value, callback) {\n              if (value !== t.form.pwd) {\n                callback(new Error('两次密码不一致'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ]\n      },\n      form: {\n        account: '',\n        pwd: '',\n        pwd2: ''\n      }\n    }\n  },\n  methods: {\n    goSignIn (e) {\n      this.$refs['form'].validate(async (valid) => {\n        if (valid) {\n          const { data } = await request(`${config.apiHost}/user/signIn`, {\n            method: 'POST',\n            body: JSON.stringify(this.form)\n          })\n          if (data && data.code === 200) {\n            Message({\n              message: '恭喜。注册成功! 请登录...',\n              type: 'success'\n            })\n            this.onJumpToLogin()\n          } else {\n            const msg = data ? data.msg : '网络发生错误'\n            Message({\n              message: msg,\n              type: 'error'\n            })\n          }\n        } else {\n          console.log('请先解决输入错误！')\n          return false\n        }\n      })\n    },\n    onJumpToLogin () {\n      router.push({\n        name: 'Login'\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/SignIn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"padding\":\"10px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":16,\"md\":12,\"lg\":8,\"xl\":6}},[_c('h1',[_vm._v(\"HappyNode 注册\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules2,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"account\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\",\"clearable\":\"\"},model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"clearable\":\"\"},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"pwd2\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\",\"clearable\":\"\"},model:{value:(_vm.form.pwd2),callback:function ($$v) {_vm.$set(_vm.form, \"pwd2\", $$v)},expression:\"form.pwd2\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.goSignIn}},[_vm._v(\"提交注册\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onJumpToLogin}},[_vm._v(\"已有账号，登录\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b9764e6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SignIn.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignIn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignIn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b9764e6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SignIn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SignIn.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}