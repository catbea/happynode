webpackJsonp([5],{"H/Iz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),o=r.n(a),n=r("mvHQ"),l=r.n(n),s=r("exGp"),c=r.n(s),p=r("zL8q"),i=r("YaEn"),u=r("j5zc"),m=r("QmSG"),d=r.n(m),f={data:function(){var e=this;return{rules2:{account:[{validator:function(e,t,r){t.match&&/^[A-Za-z0-9_]{4,20}$/.test(t)?r():r(new Error("账号要求4到20位，大小写字母、数字以及下横杠"))},trigger:"blur"}],pwd:[{validator:function(e,t,r){t.match&&/^[A-Za-z0-9_]{6,20}$/.test(t)?r():r(new Error("密码要求6到20位，大小写字母、数字以及下横杠"))},trigger:"blur"}],pwd2:[{validator:function(t,r,a){r!==e.form.pwd?a(new Error("两次密码不一致")):a()},trigger:"blur"}]},form:{account:"",pwd:"",pwd2:""}}},methods:{goSignIn:function(e){var t,r=this;this.$refs.form.validate((t=c()(o.a.mark(function e(t){var a,n,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,Object(u.a)(d.a.apiHost+"/user/signIn",{method:"POST",body:l()(r.form)});case 3:a=e.sent,(n=a.data)&&200===n.code?(Object(p.Message)({message:"恭喜。注册成功! 请登录...",type:"success"}),r.onJumpToLogin()):(s=n?n.msg:"网络发生错误",Object(p.Message)({message:s,type:"error"})),e.next=10;break;case 8:return console.log("请先解决输入错误！"),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},onJumpToLogin:function(){i.a.push({name:"Login"})}}},b={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticStyle:{padding:"10px"},attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{xs:24,sm:16,md:12,lg:8,xl:6}},[r("h1",[e._v("HappyNode 注册")]),e._v(" "),r("el-form",{ref:"form",attrs:{rules:e.rules2,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码",clearable:""},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"pwd2"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入密码",clearable:""},model:{value:e.form.pwd2,callback:function(t){e.$set(e.form,"pwd2",t)},expression:"form.pwd2"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary",plain:""},on:{click:e.goSignIn}},[e._v("提交注册")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.onJumpToLogin}},[e._v("已有账号，登录")])],1)],1)],1)},staticRenderFns:[]},g=r("VU/8")(f,b,!1,null,null,null);t.default=g.exports}});
//# sourceMappingURL=5_signin.46e177e99d29c38c5bd5.js.map