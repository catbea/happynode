{"version":3,"sources":["webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?6def","webpack:///./src/pages/Login.vue"],"names":["Login","data","rules2","account","validator","rule","value","callback","Error","trigger","pwd","form","methods","onSubmit","e","_ref","_this","this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","_ref2","msg","wrap","_context","prev","next","Object","request","config_default","apiHost","method","body","stringify_default","sent","code","element_ui_common","message","type","helper","token","router","push","name","console","log","abrupt","stop","_x","apply","arguments","onJumpToSignIn","pages_Login","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","attrs","justify","xs","sm","md","lg","xl","_v","ref","rules","model","label-width","label","prop","placeholder","clearable","maxlength","$$v","$set","expression","nativeOn","keyup","$event","_k","keyCode","key","on","click","plain","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6_login.122b051e11bd2eb47a4e.js","sourcesContent":["<template>\n  <el-row type=\"flex\" justify=\"center\" style=\"padding: 10px;\">\n    <el-col :xs=\"24\" :sm=\"16\" :md=\"12\" :lg=\"8\" :xl=\"6\">\n      <h1>HappyNode 登录</h1>\n      <el-form ref=\"form\" :rules=\"rules2\" :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"账号\" prop=\"account\">\n          <el-input v-model=\"form.account\" placeholder=\"请输入账号\" clearable maxlength=\"32\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"pwd\">\n          <el-input v-model=\"form.pwd\" type=\"password\" placeholder=\"请输入密码\" clearable maxlength=\"32\" @keyup.enter.native=\"onSubmit\"></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">登录</el-button>\n        <el-button type=\"primary\" plain @click=\"onJumpToSignIn\">注册</el-button>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { Message } from 'element-ui'\nimport router from '../router'\nimport request from '../tools/request'\nimport { setCookie } from '../tools/helper'\nimport config from '../config.js'\n\nexport default {\n  data () {\n    return {\n      rules2: {\n        account: [\n          {\n            validator (rule, value, callback) {\n              if (!value || typeof value !== 'string') {\n                callback(new Error('请输入账号'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ],\n        pwd: [\n          {\n            validator (rule, value, callback) {\n              if (!value || typeof value !== 'string') {\n                callback(new Error('请输入密码'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur'\n          }\n        ]\n      },\n      form: {\n        account: '',\n        pwd: ''\n      }\n    }\n  },\n  methods: {\n    onSubmit (e) {\n      this.$refs['form'].validate(async (valid) => {\n        if (valid) {\n          const { data } = await request(`${config.apiHost}/user/login`, {\n            method: 'POST',\n            body: JSON.stringify(this.form)\n          })\n          if (data && data.code === 200) {\n            Message({\n              message: '登录成功!',\n              type: 'success'\n            })\n            setCookie('token', data.data.token, 720)\n            router.push({\n              name: 'Works'\n            })\n          } else {\n            const msg = data ? data.msg : '网络发生错误'\n            Message({\n              message: msg,\n              type: 'error'\n            })\n          }\n        } else {\n          console.log('请先解决输入错误！')\n          return false\n        }\n      })\n    },\n    onJumpToSignIn () {\n      console.log('跳转去注册！')\n      router.push({\n        name: 'SignIn'\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"padding\":\"10px\"},attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":16,\"md\":12,\"lg\":8,\"xl\":6}},[_c('h1',[_vm._v(\"HappyNode 登录\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules2,\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"account\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\",\"clearable\":\"\",\"maxlength\":\"32\"},model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"clearable\":\"\",\"maxlength\":\"32\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)}},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.onJumpToSignIn}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5bf72e9c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Login.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5bf72e9c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}